#:kivy 1.6.0

WindowManager:
    id:wm
	FirstWindow:
	SecondWindow:


<FirstWindow>:
	name: "first"
    id:first   
    Label:
        text: "First\nScreen"
        size_hint: .1,.1
        pos_hint: {"right":.9,"bottom":1}
    Button:
        size_hint: .1,.1
        pos_hint: {"right":1,"bottom":1}
        text: "Next Screen"
        #font_size: 16
        on_release: 
            app.root.current = "second"
            root.manager.transition.direction = "left"
    Button:
        pos_hint:{"right":1,"top":0.2}
        size_hint: .1,.1
        text: "Borrar\nGrafico"
        on_press:app.borrarGrafico()
    Label:
        text: "Frecuencia\nDominante:\n500Hz"
        size_hint: .1,.1
        pos_hint: {"right":0.9,"top":.5}

    #Lo que era PrimerWidget
    Button: #cerrar interfaz
        size_hint: .245,.125
        pos_hint: {"center_x":0.125,"center_y":0.875}
        text: "Cerrar Interfaz"
        on_press:app.stop()

    Button: #iniciar/cerrar script
        size_hint: .245,.125
        pos_hint: {"center_x":0.375,"center_y":0.875}
        text: app.botonScript 
        on_press: 
            app.iniciarPrograma()

    Button: #selector de modo manual y automatico
        size_hint: .245,.125
        pos_hint: {"center_x":0.375,"center_y":0.75}
        text: ["Modo Automatico","Modo Manual"][app.modoManual]
        on_press: app.modoManual=not app.modoManual
    Label: 
        size_hint: .245,.125
        pos_hint: {"center_x":0.375,"center_y":0.625}
        text: "*Mas Botones Para El Modo Manual*"


    ###Lo que era SegundoWidget
    Label:
        size_hint: .125,.125
        pos_hint: {"right":0.25,"top":1.025}
        text: 'Cant. de Mosquitos Macho: '+ str(app.contM)
    Label:
        size_hint: .125,.125
        pos_hint: {"right":0.75,"top":1.025}
        text: 'Cant. de Mosquitos Hembra: '+str(app.contH)
    
    # Para mostrar el estado actual
    Button:    
        size_hint: .49,.125
        pos_hint: {"center_x":0.75,"center_y":0.75}
        text: app.estado
        on_press: app.funcPrueba()
        #on_release:app.graficar()
        #on_state:app.graficar()
    Label:  
        size_hint: .49,.125
        pos_hint: {"center_x":0.75,"center_y":0.875}
        text: "Estado de la trampa"


<SecondWindow>:
	name: "second"

    Label:
        text: "Second\nScreen"
        size_hint: .1,.1
        pos_hint: {"right":.9,"bottom":1}
    Button:
        size_hint: .1,.1
        pos_hint: {"right":1,"bottom":1}
        text: "Go Back"
        on_release: 
            app.root.current = "first"
            root.manager.transition.direction = "right"
    Button:
        pos_hint:{"right":1,"top":0.7}
        size_hint: .1,.1
        text: "Activar video"
        disabled:not app.modoManual
    Button:
        pos_hint:{"right":1,"top":0.6}
        size_hint: .1,.1
        text: "Sacar Foto"
        disabled:not app.modoManual

    TercerWidget:

    
<TercerWidget>

    canvas:
        
        Rectangle:
            #source: 'tinky.jpeg'
            id:camara
            source:app.imagen
            pos: root.width *0.01,root.height*0.1
            #size: root.width*0.6,root.height*0.6
            size:1080/2.4,700/2.4
            #pantalla 480*320


